%!TEX root = ../lectures.tex

\newcommand{\Cof}{\operatorname{Cof}}
\newcommand{\Fib}{\operatorname{Fib}}
\newcommand{\tailto}{\rightarrowtail}
\renewcommand{\simh}{\overset{h}{\sim}}

\section{Homotopy theory in model categories}\label{lecture:model-categories}

Model categories are, in short, a systematic framework for doing homotopy theory, meaning it is a tool for controlling localizations of categories. Previously, when trying to understand
relative categories \((\calC,W)\), we have made use of the assumption that \(W\) is a (right or left) multiplicative system, which allows us to understand the morphisms a lot more
cleanly due to the calculus of fractions.

Model categories take a different approach. Essentially, they introduce what one might describe as \emph{phantom structure:} the data of \emph{fibrations} and \emph{cofibrations,}
``meaningless'' on their own, the (imposed) properties of which allow you to describe the localization in terms very similar to the homotopy theory of topological spaces.
Essentially, the (co)fibrations provide distinguished classes of ``nice'' objects and morphisms. Model categories also provide a very convenient setting in which to understand homotopical analogues
of limits and colimits, though in a sense this is hardly unique to them, and is really a consequence of a good theory of derived functors.

For the material here, we mainly follow \cite{riehl-categorical-homotopy-theory}, \cite{cisinski-book}, and \cite{may-ponto-more-concise-algebraic-topology}.

\subsection{Model categories}
\begin{definition}
	Let \(\calC\) be a category. A \emph{model structure} on \(\calC\) is a triple \((\Cof,W,\Fib)\) of sets of morphisms in \(\calC\) satisfying the following conditions.
	\begin{enumerate}[label=(\arabic*)]
		\item The set \(W\) has the 2-out-of-3 property.
		\item The pairs \((\Cof,\Fib\cap W)\) and \((\Cof\cap W,\Fib)\) are weak factorization systems on \(\calC\).
	\end{enumerate}
	A category \(\calC\) with a model structure is called a \emph{model category} if, in addition, \(\calC\) admits finite limits and finite colimits.
\end{definition}
\begin{terminology}
	Given a model structure \((\Cof,W,\Fib)\) on \(\calC\), one calls a morphism \(f\) in \(\calC\)
	\begin{itemize}
		\item a \emph{cofibration} if \(f\in\Cof\),
		\item a \emph{fibration} if \(f\in\Fib\),
		\item a \emph{weak equivalence} if \(f\in W\), or
		\item a \emph{trivial (co)fibration} if \(f\) is both a weak equivalence and (co)fibration.
	\end{itemize}
	Suppose \(\calC\) is a model category. One says an object \(x\in\calC\) is
	\begin{itemize}
		\item \emph{fibrant} if \(x\to *\) is a fibration, where \(*\in\calC\) is the terminal object, or
		\item \emph{cofibrant} if \(\varnothing\to x\) is a cofibration, where \(\varnothing\in\calC\) is the initial object.
	\end{itemize}
\end{terminology}
\begin{remark}
	There are a few different variations on the definition of a model category, and we use the one in \cite{cisinski-book}. It is fairly common to assume a model category admits 
	\emph{all} small limits and colimits, and further, that the factorization systems are \emph{functorial,} meaning that the factorizations can be chosen
	to determine functors \(\Fun([1],\calC)\to\Fun([2],\calC)\). As many examples of model categories are produced by using the small object argument, which
	produces functorial factorizations, this is often satisfied, but it is also not really necessary for the theory to a large extent. Note, however, that
	a big convenience in having functorial factorizations is that choosing a \emph{(co)fibrant replacement} (obtained by factorizing either \(\varnothing\to x\) or \(x\to *\))
	determines a deformation in the sense of Lecture \ref{lecture:homotopical-algebra-through-deformations}, and thus the theory of derived functors becomes very nice.
\end{remark}
\begin{notation}
	We write \(\calC_c\) for the full subcategory of cofibrant objects; dually, \(\calC_f\) for the full subcategory of fibrant objects. Combining the two,
	we write \(\calC_{cf}\) for the full subcategory of objects which are both fibrant and cofibrant.
\end{notation}
\begin{notation}
	We adopt the following notation, in situations where no ambiguity is expected: \(\iso\) denotes a weak equivalence, \(\sur\) denotes a fibration, and \(\tailto\)
	denotes a cofibration.
\end{notation}
\begin{remark}
	Observe that a model structure has a large amount of redundant information: if one exists, it is completely determined by its weak equivalences
	and either the trivial fibrations or trivial cofibrations. This is a corollary of Proposition \ref{prop:factorization-system-equalities}; suppose we know
	\(W\) and \(\Fib\cap W\). Then
	\[ \Cof = \prescript{\boxslash}{}{(\Fib\cap W)},\quad \leadsto\quad \Fib = (\Cof\cap W)^\boxslash, \]
	which recovers the triple \((\Cof,W,\Fib)\).

	This also means that \(W\) contains a weakly saturated class of morphisms, namely \(\Fib\cap W\), and therefore contains all isomorphisms. In particular, all identities,
	so \(W\) determines a wide subcategory with the 2-out-of-3 property. We conclude that \((\calC,W)\) is a pseudo-homotopical category, in the terminology
	of Lecture \ref{lecture:homotopical-algebra-through-deformations}. In fact, we will see that \(W\) necessarily also satisfies the 2-out-of-6 property,
	so that \((\calC,W)\) is moreover a homotopical category. The reader should therefore not spend any time seeking examples of model categories whose weak
	equivalences do not satisfy the 2-out-of-6 property.
\end{remark}
\begin{remark}
	In many cases, model structures are constructed using the small object argument, such as the one we give in Proposition \ref{prop:small-object-argument}. That is,
	one has some class of basic cofibrations \(J\) from which one forms the factorization systems \((\prescript{\boxslash}{}{(J^\boxslash)},J^\boxslash)\) using the small
	object argument. Choosing some basic class of trivial cofibrations \(I\), one can then form \((\prescript{\boxslash}{}{(I^\boxslash)},I^\boxslash)\). If \(J\)
	and \(I\) are chosen such that \(J^\boxslash \subseteq W\) and \(\prescript{\boxslash}{}{(I^\boxslash)} \subseteq W\), then this will yield a model structure given by
	\[ (\Cof,W,\Fib) = (\prescript{\boxslash}{}{(J^\boxslash)},W,I^\boxslash). \]
	In general, model structures for which one can find \emph{some} collections of maps \(I\) and \(J\) generating the (trivial) cofibrations are called \emph{cofibrantly generated,} and they have a
	number of benefits. For example, since the small object argument provides functorial factorizations, any such model structure of course admits this extra structure.
\end{remark}
\begin{construction}[Opposites]
	Let \((\calC, \Cof, W, \Fib)\) be a model category. Then the triple \((\Fib^\op, W^\op, \Cof^\op)\) is a model structure on \(\calC^\op\), so \(\calC^\op\) can be promoted to a model category
	as well. Furthermore, this demonstrates that fibrations and cofibrations are dual to each other, such that any result about cofibrations dualizes to a result about fibrations.
\end{construction}
\begin{construction}[Slices]
	Let \(\calC\) be a model category, and let \(x\in\calC\). Then \(\calC/x\) can be promoted to a model category. In particular, let a morphism in \(\calC/x\) be a weak equivalence (resp.\ fibration, cofibration)
	if it is a weak equivalence (resp.\ fibration, cofibration) in \(\calC\). Dualizing yields that \(x/\calC\) can be promoted to a model category in a similar way.
\end{construction}

\begin{proposition}\label{prop:model-category-cof-saturated-fib-cosaturated}
	Let \((\calC,\Cof,W,\Fib)\) be a model category. Then \(\Cof\) is weakly saturated and \(\Fib\) is weakly cosaturated. In particular, whenever it makes sense,
	\begin{enumerate}[label=(\arabic*)]
		\item \(\Cof\) is closed under retracts, compositions, small coproducts, and pushouts, and
		\item \(\Fib\) is closed under retracts, compositions, small products, and pullbacks.
	\end{enumerate}
\end{proposition}
\begin{proof}
Follows by Proposition \ref{corollary:llp-weakly-saturated} and Proposition \ref{prop:factorization-system-equalities}.
\end{proof}

\subsection{Ken Brown's lemma \& some basic techniques}

Recall the importance of functors being \emph{homotopical} in the construction of derived functors; see Lecture \ref{lecture:homotopical-algebra-through-deformations}. In a model category,
the morphisms which are easily controlled are the (co)fibrations, and the objects with nice properties are the (co)fibrant ones. Consequently, it is often the case that one can
more easily say things about, say, trivial cofibrations between cofibrant objects than about weak equivalences in general. The below result is useful in these circumstances.
\begin{lemma}[Ken Brown's lemma]
	Let \(\calC\) be a model category, and let \(\calD\) be a pseudo-homotopical category. Suppose we have a functor \(F\!:\calC\to\calD\). Then the following are equivalent.
	\begin{enumerate}[label=(\arabic*)]
		\item \(F\) is homotopical on the full subcategory of cofibrant objects, i.e.\ \(F\) sends weak equivalences between cofibrant objects to weak equivalences.
		\item \(F\) sends trivial cofibrations between cofibrant objects to weak equivalences.
	\end{enumerate}
\end{lemma}
\begin{proof}
The implication (1) \(\Rightarrow\) (2) is clear. For the converse, the idea is that we may rewrite any weak equivalence between cofibrant objects in terms of trivial cofibrations.
Suppose we have a morphism \(f\!:x\to y\) where \(x,y\in\calC_c\). Form their coproduct \(x\amalg y\) and factor the map \(x\amalg y \to y\) given by
\(f\!:x\to y\) and \(\id_y\!:y\to y\) into a cofibration followed by a trivial fibration
\[
	\begin{tikzcd}
		\varnothing\ar[r,tail]\ar[d,tail] & x\ar[d,"\iota_x"] \\
		y\ar[r,"\iota_y"] & x\amalg y\ar[ul,pushout]
	\end{tikzcd} \quad \leadsto \quad
	\begin{tikzcd}
		x\ar[d,tail,"\iota_x"']\ar[drr,bend left=20,"\sim","f"'] \\
		x\amalg y \ar[r,tail] & z \ar[r,"\sim"] & y \\
		y\ar[u,tail,"\iota_y"]\ar[urr,bend right=20,equal]
	\end{tikzcd}
\]
and, using the left diagram, note that since cofibrations are closed under pushouts, \(\iota_x\) and \(\iota_y\) are cofibrations. In particular, the compositions
\[ i\!:x \overset{\iota_x}\tailto x\amalg y \tailto z,\quad j\!:y \overset{\iota_y}\tailto x\amalg y \tailto z \]
are both cofibrations (by composition) and weak equivalences (by 2-out-of-3), hence trivial cofibrations. By commutativity, we have
\[ j\circ f = i \implies F(j)\circ F(f) = F(i)  \]
which implies \(F(f)\) is a weak equivalence by the 2-out-of-3 property.
\end{proof}
\begin{remark}
	The above result is a simple but good example of how (co)fibrations and (co)fibrant objects can help us despite not being intrinsically meaningful.
\end{remark}

Before we move on to showing how homotopy theory may be done in the context of a model category, let us prove a nice property of the weak equivalences.
Recall that isomorphisms are closed under retracts, as was shown in Lemma \ref{lemma:isomorphisms-closed-under-retracts}. This also holds for the weak
equivalences in a model category. The proof is interesting, as it demonstrates a typical approach employed in the context of a model structure,
namely to prove something for the (co)fibrations, and then lift it to all morphisms by using the factorization properties.

\begin{lemma}\label{lemma:model-category-fibration-retract-of-weak-equivalence-is-trivial-fibration}
	Let \(\calC\) be a model category. If a fibration in \(\calC\) is the retract of a weak equivalence, then it is a trivial fibration.
\end{lemma}
\begin{proof}
Let \(f\!:x\sur y\) be fibration which is the retract of a weak equivalence \(w\!:x' \to y'\). First, factor \(w\) into a composition \(v\circ u\) using either factorization system,
and observe that by the 2-out-of-3 property, both \(u\) and \(v\) are weak equivalences (and hence a trivial cofibration and trivial fibration, respectively), so we have
\[
	\begin{tikzcd}
		x\ar[d,two heads,"f"']\ar[r] & x'\ar[d,"w"', "\sim" labl]\ar[r] & x\ar[d,two heads,"f"] \\
		y\ar[r] & y'\ar[r] & y
	\end{tikzcd}\quad\leadsto\quad
	\begin{tikzcd}
		x\ar[dd,two heads,"f"']\ar[r] & x'\ar[d,tail,"u"', "\sim" labl]\ar[r] & x\ar[dd,two heads,"f"] \\
		 & z'\ar[d,two heads,"v"', "\sim" labl] & \\
		y\ar[r] & y'\ar[r] & y
	\end{tikzcd}.
\]
Composing in the obvious way, we get a morphism \(s\!:x\to z'\), and by considering the lifting problem as below left (obtained by the other obvious composition), we thus have the diagram below right:
\[
	\begin{tikzcd}
		x'\ar[d,tail,"u"', "\sim" labl]\ar[r] & x\ar[d,two heads,"f"] \\
		z'\ar[r]\ar[ur,dashed,"t"] & y
	\end{tikzcd}\quad\leadsto\quad
	\begin{tikzcd}
		x\ar[dd,two heads,"f"']\ar[r]\ar[dr,"s"'] & x'\ar[d,tail,"u"', "\sim" labl]\ar[r] & x\ar[dd,two heads,"f"] \\
		 & z'\ar[d,two heads,"v"', "\sim" labl]\ar[ur,"t"'] & \\
		y\ar[r] & y'\ar[r] & y
	\end{tikzcd}.
\]
By commutativity, we see that \(t\circ s = \id\), so that \(f\) is a retract of \(v\). Since trivial fibrations are weakly cosaturated (by Proposition \ref{prop:model-category-cof-saturated-fib-cosaturated}),
they are closed under retracts, and hence \(f\) is a trivial fibration.
\end{proof}
\begin{proposition}
	Let \(\calC\) be a model category. Then the weak equivalences are closed under retracts.
\end{proposition}
\begin{proof}
Let \(f\!:x\to y\) be a retract of a weak equivalence \(w\!:x' \to y'\),
\[
	\begin{tikzcd}
		x\ar[d,"f"']\ar[r] & x'\ar[r,"r"]\ar[d,"w"',"\sim" labl] & x\ar[d,"f"] \\
		y\ar[r,"s"] & y'\ar[r] & y
	\end{tikzcd}.
\]
Factor \(f = h\circ g\) as a trivial cofibration \(g\) followed by a fibration \(h\). Our goal is to show that \(h\) is the retract of a weak equivalence,
so that, applying Lemma \ref{lemma:model-category-fibration-retract-of-weak-equivalence-is-trivial-fibration}, \(f\) is a composition of weak equivalences. To this end,
consider the pushout below left
\[
	\begin{tikzcd}
		x\ar[r]\ar[d,tail,"g"',"\sim" labl] & x'\ar[d,dashed,"i"] \\
		z\ar[r,dashed,"k"] & z'\ar[ul,pushout]
	\end{tikzcd}\quad\leadsto\quad
	\begin{tikzcd}
		x\ar[d,tail,"g"',"\sim" labl]\ar[r] & x'\ar[dd,bend left,"w" near start,"\sim" labl]\ar[d,tail,"i"',"\sim" labl]\ar[r] & x\ar[d,tail,"g"',"\sim" labl] \\
		z\ar[d,two heads,"h"']\ar[r,"k"'] & z'\ar[ul,pushout]\ar[d,dashed,"j"'] & z \ar[d,two heads,"h"] \\
		y\ar[r] & y'\ar[r] & y
	\end{tikzcd}
\]
and note that trivial cofibrations, beeing weakly saturated, are closed under pushouts. Hence, \(i\) is a trivial cofibration. The morphism \(j\) in the diagram
above right is induced by universal property applied to the morphisms \(w\) and \(s\circ h\); since \(j\circ i = w\) and both \(i\) and \(w\) are weak equivalences,
we deduce that \(j\) is a weak equivalence.

For the final step, observe that the identity \(\id_z\!:z\to z\) together with the composition \(g\circ r\) induce, by universal property, a
map \(\ell\!:z'\to z\) for which \(\ell\circ k = \id_z\) and \(\ell\circ i = g\circ r\). By universal property, one can check that the remaining bottom right square in the diagram
\[
	\begin{tikzcd}
		x\ar[d,tail,"g"',"\sim" labl]\ar[r] & x'\ar[d,tail,"i"',"\sim" labl]\ar[r] & x\ar[d,tail,"g"',"\sim" labl] \\
		z\ar[d,two heads,"h"']\ar[r,"k"'] & z'\ar[ul,pushout]\ar[d,"j"']\ar[r,dashed,"\ell"] & z \ar[d,two heads,"h"] \\
		y\ar[r] & y'\ar[r] & y
	\end{tikzcd}
\]
commutes (by using that there is a unique map \(z'\to y\) which after composition with \(i\) or \(k\) yields the outer paths of the square), so the entire diagram commutes.
In particular, \(h\) is a retract of the weak equivalence \(j\).
\end{proof}

\subsection{Cylinders, paths, and homotopies}
Recall that in standard algebraic topology, one has the notion of a \emph{homotopy} between two continuous maps \(f,g\!:X\to Y\). Intuitively,
this is some kind of continuous family of maps \(X\to Y\) which explains how to ``deform'' \(f\) into \(g\) (or vice versa). Formally, this is usually captured by
having a continuous map \(H\!:[0,1]\times X\to Y\) such that \(H(0,x) = f(x)\) and \(H(1,x) = g(x)\) for all \(x\in X\).

On the other hand, whenever it exists, one can also encode the notion of a homotopy as a path in the \emph{function space} \(Y^X\). The issue with this is that
the function space \emph{doesn't} always exist, in the sense that one may fail to have a bijection
\[ \Top([0,1]\times X, Y) \cong \Top([0,1],Y^X). \]
Still, when it does happen to make sense, it's a very intuitive way to define homotopies. Slightly less intuitive is the expression obtained by considering
the other possible adjunction,
\[ \Top([0,1]\times X, Y) \cong \Top(X,Y^{[0,1]}), \]
passing through the \emph{path space,} where a homotopy from \(f\) to \(g\) is a continuous map \(h\!:X\to Y^{[0,1]}\) such that \(h(x)(0) = f(x)\) and \(h(x)(1) = g(x)\).

These two approaches can be partially employed in any relative category, and especially well in the context of a model structure.
\begin{definition}
	Let \((\calC,W)\) be a relative category, and let \(x\in \calC\) be an object.
	\begin{enumerate}[label=(\roman*)]
		\item A \emph{cylinder object} for \(x\) is an object \(Ix\in\calC\) together with maps
		\[
			\begin{tikzcd}
				x\amalg x \ar[r,"{ (i_0, i_1) }"] & Ix \ar[r,"p"] & x
			\end{tikzcd}
		\]
		such that \(p\circ i_k = \id_x\), \(k=0,1\), and \(p\in W\).
		\item A \emph{path object} for \(x\) is an object \(x^I\in\calC\) together with maps
		\[
			\begin{tikzcd}
				x\ar[r,"i"] & x^I \ar[r,"{ (p_0,p_1) }"] & x\times x
			\end{tikzcd}
		\]
		such that \(p_k\circ i = \id_x\), \(k=0,1\), and \(i\in W\).
	\end{enumerate}
\end{definition}
\begin{remark}
	Note that these are not defined by universal property, and so do not need to be unique in any way, a priori.
\end{remark}
\begin{remark}
	If \((\calC,W)\) is pseudo-homotopical in the sense of Lecture \ref{lecture:homotopical-algebra-through-deformations}, then the 2-out-of-3 property
	shows that the \(i_k\) and \(p_k\) are weak equivalences.
\end{remark}

\begin{definition}
	Let \(\calC,W\) be a relative category, and let \(f,g\!:x\to y\) be morphisms in \(\calC\).
	\begin{enumerate}[label=(\roman*)]
		\item Consider a cylinder object \(Ix\) for \(x\). A \emph{left homotopy} from \(f\) to \(g\) (with respect to \(Ix\)) is a morphism \(h\!:Ix \to y\)
		such that \(h\circ i_0 = f\) and \(h\circ i_1 = g\). We write \(\simh_\ell\) for the equivalence relation on \(\calC(x,y)\) generated by the existence of
		a cylinder object for \(x\) together with a left homotopy from one morphism to another, and set
		\[ [x,y]_\ell := \calC(x,y)/\simh_\ell. \]
		\item Consider a path object \(y^I\) for \(y\). A \emph{right homotopy} from \(f\) to \(g\) (with respect to \(y^I\)) is a morphism \(h'\!:x\to y^I\)
		such that \(p_0\circ h' = f\) and \(p_1\circ h' = g\). We write \(\simh_r\) for the equivalence relation on \(\calC(x,y)\) generated by the existence of
		a path object for \(y\) together with a right homotopy from one morphism to another, and set
		\[ [x,y]_r := \calC(x,y)/\simh_r. \]
	\end{enumerate}
\end{definition}

\begin{remark}
	A warning to observe is that \(f \simh_\ell g\) (and its dual) does \emph{not} merely ask that there is a left homotopy from \(f\) to \(g\), since that is not
	necessarily an equivalence relation. This is why we must ask for the equivalence relation \emph{generated} by that simpler relation. In general, \(f\simh_\ell g\)
	means that there is some chain of left homotopies starting at \(f\) and ending with \(g\). See the proof of Proposition \ref{prop:model-category-cofibrant-object-left-homotopy-equivalence-relation}
	for an explanation of what properties the relation of left homotopy satisfies, and when it forms an equivalence relation.
\end{remark}
\begin{remark}
	We want to emphasize that the relations \(\simh_\ell\) and \(\simh_r\) do not require a fixed choice of cylinder object or path object, and rather allow any
	choice for defining a homotopy.
\end{remark}

At this level of generality, there is not much one can say, but with a small added hypothesis, one can at least say the following:
\begin{lemma}\label{lemma:homotopic-to-weak-equivalence-is-weak-equivalence}
	Let \((\calC,W)\) be a pseudo-homotopical category, and suppose we have morphisms \(f,g\!:x\to y\) and a left homotopy \(h\) from \(f\) to \(g\). Then
	\(f\) is a weak equivalence if and only if \(g\) is a weak equivalence.
\end{lemma}
\begin{proof}
We have the diagram
\[
	\begin{tikzcd}
		x\ar[d,"i_0"',"\sim" labl]\ar[dr,"f"] & \\
		Ix \ar[r,"h"] & y \\
		x \ar[u,"i_1","\sim"' labl] \ar[ur,"g"'] &
	\end{tikzcd}
\]
and therefore \(f\in W\) if and only if \(h\in W\) if and only if \(g\in W\), by the 2-out-of-3 property.
\end{proof}
\begin{remark}
	By the description of the equivalence relation \(\simh_\ell\), it follows that if \(f\simh_\ell g\) then \(f\in W\) if and only if \(g\in W\).
\end{remark}

The above definitions can be made in any relative category, as we have done, but typically one will work within a model category, in which case one can add some more conditions
to make the definitions substantially more powerful.
\begin{definition}
	Let \(\calC\) be a model category, and let \(x\in\calC\) be an object.
	\begin{enumerate}[label=(\roman*)]
		\item Consider a cylinder object \((Ix,i_0,i_1,p)\) for \(x\). We say \(Ix\) is a \emph{good} cylinder object if \((i_0,i_1)\!:x\amalg x\to Ix\) is a cofibration,
		We say \(Ix\) is a \emph{very good} cylinder object if it is good, and \(p\) is a trivial fibration. A left homotopy is (very) good if the corresponding cylinder object is (very) good.
		\item Consider a path object \((x^I,i,p_0,p_1)\) for \(x\). We say \(x^I\) is a \emph{good} path object if \((p_0,p_1)\!:x^I\to x\times x\) is a fibration,
		We say \(x^I\) is a \emph{very good} path object if it is good, and \(i\) is a trivial cofibration. A left homotopy is (very) good if the corresponding path object is (very) good.
	\end{enumerate}
\end{definition}
\begin{lemma}\label{lemma:model-category-good-cylinder-of-cofibrant-object-inclusions-cofibrant}
	Let \(\calC\) be a model category, let \(x\in\calC_c\) be a cofibrant object, and let \((Ix,i_0,i_1,p)\) be a good cylinder object. Then \(i_0\) and \(i_1\)
	are trivial cofibrations.
\end{lemma}
\begin{proof}
We know that \(i_0\) and \(i_1\) are weak equivalences by the 2-out-of-3 property, so we need to show they are cofibrations. However,
the canonical inclusions \(\iota_k\!:x\to x\amalg x\) are cofibrations (being pushouts of the cofibration \(\varnothing\to x\)), and
\[ i_k = (i_0,i_1)\circ\iota_k \]
so that \(i_k\), \(k=0,1\), are cofibrations.
\end{proof}
\begin{proposition}\label{prop:model-category-good-homotopies-are-enough}
	Let \(\calC\) be a model category. Then the following statements hold.
	\begin{enumerate}[label=(\arabic*)]
		\item For any object \(x\in\calC\) there exists a very good cylinder object and a very good path object.
		\item For two morphisms \(f,g\!:x\to y\), there exists a left (resp.\ right) homotopy from \(f\) to \(g\) if and only if there exists a good left (resp.\ right) homotopy from \(f\) to \(g\).
	\end{enumerate}
\end{proposition}
\begin{proof}
(1) Factorize the codiagonal and diagonal maps
\[ \nabla_x\!: x\amalg x \to x,\quad \Delta_x\!:x\to x\times x \]
using the appropriate factorization system.

(2) Obviously, one direction is trivial. For other, let \(h\!:Ix\to y\) be a left homotopy from \(f\) to \(g\). The strategy is similar to (1), except that we factorize the
map \((i_0,i_1)\!:x \amalg x \to Ix\) to get
\[
	\begin{tikzcd}
		x\amalg x \ar[r,tail,"{(i'_0,i'_1)}"] & I'x \ar[r,two heads,"\sim" labl] & Ix
	\end{tikzcd}
\]
which now defines a good cylinder, where the map \(p'\!:I'x \to x\) is defined by composing \(I'x\overset{\sim}\sur Ix\overset{\sim}\to x\). One immediately
sees that the morphism \(h'\) given by the composition \(I'x \to Ix \overset{h}\to y\) defines a good homotopy from \(f\) to \(g\). The proof for right homotopies is similar.
\end{proof}

We remarked earlier that since the existence of a left homotopy doesn't form an equivalence relation, we are forced to consider the equivalence relation generated by the former
to get \(\simh_\ell\). Naturally, one wonders what the obstruction is, as in standard algebraic topology, homotopy is easily seen to be an equivalence relation.
The below proposition provides an answer.

\begin{proposition}\label{prop:model-category-cofibrant-object-left-homotopy-equivalence-relation}
	Let \(\calC\) be a model category, let \(x,y\in\calC\) and assume \(x\) is cofibrant. Then, for morphisms \(f,g\in\calC(x,y)\), we have \(f\simh_\ell g\) if and only if there exists a left homotopy
	from \(f\) to \(g\). That is, the existence of a left homotopy forms an equivalence relation.
\end{proposition}
\begin{proof}
We have three things to check: reflexivity, symmetry, and transitivity.
\begin{enumerate}[label=(\arabic*)]
	\item Reflexivity: let \(f\!:x\to y\) be a morphism. Note that \((x,\id_x,\id_x,\id_x)\) forms a (very good) cylinder object for \(x\), so \(f\) itself
	determines a homotopy from \(f\) to \(f\).
	\item Symmetry: let \(f,g\!:x\to y\) be morphisms, and \(h\!: Ix\to y\) a homotopy from \(f\) to \(g\). Note that given the cylinder \((Ix,i_0,i_1,p)\),
	the tuple \((Ix,i_1,i_0,p)\) also defines a cylinder object for \(x\). Then the homotopy \(h\), now thought of in terms of the latter cylinder, defines a homotopy
	from \(g\) to \(f\).
	\item Transitivity: this is the only step where we need to use that \(x\) is cofibrant. Assume that we have \(f,g,k\!:x\to y\) and left homotopies \(h\!:Ix\to y\) from \(f\) to \(g\) and \(h'\!:I'x\to y\) from
	\(g\) to \(k\); by Proposition \ref{prop:model-category-good-homotopies-are-enough}, we may assume that these left homotopies are good. We form a third cylinder \(Jx\)
	as the pushout below left
	\[
		\begin{tikzcd}
			& Ix\ar[dr,dashed]\ar[drr,bend left,"p"] & \\
			x\ar[ur,"i_1"]\ar[dr,"i'_0"'] & & Jx\ar[ll,pushout]\ar[r,dashed,"q"] & x \\
			& I'x\ar[ur,dashed]\ar[urr,bend right,"p'"] &
		\end{tikzcd}
		\quad\leadsto\quad
		\begin{tikzcd}
			& Ix\ar[dr]\ar[drr,bend left,"h"] & \\
			x\ar[ur,"i_1"]\ar[dr,"i'_0"'] & & Jx\ar[ll,pushout]\ar[r,dashed,"h''"] & y \\
			& I'x\ar[ur]\ar[urr,bend right,"h'"] &
		\end{tikzcd}
	\]
	where, to be explicit, we set \(j_0 = x \overset{i_0}\to Ix \to Jx\) and \(j_1 = x\overset{i'_1}\to I'x\to Jx\). The cylinder is then given by \((Jx,j_0,j_1,q)\),
	but we need to check that this is actually a cylinder object for \(x\), and this is where being cofibrant is essential. The only non-trivial aspect is checking that \(q\in W\). Here,
	Lemma \ref{lemma:model-category-good-cylinder-of-cofibrant-object-inclusions-cofibrant} tells us that \(i_1\) and \(i'_0\) are trivial cofibrations, and thus their pushouts are
	as well, so by the 2-out-of-3 property, \(q\) is a weak equivalence. We now get an induced left homotopy \(h''\!:Jx\to y\) from \(f\) to \(k\), as displayed above right.
\end{enumerate}
This concludes the proof, as \(\simh_\ell\) is the equivalence relation generated by the existence of a left homotopy.
\end{proof}

In the model categorical setting, we in principle allow any choice of cylinder object (resp.\ path object) for a left (resp.\ right) homotopy. This is
in contrast with the classical theory in algebraic topology, where one uses an explicit choice, namely the product with the interval \([0,1]\). However,
much like the above, where everything simplifies significantly with a (co)fibrancy assumption, the same is true with regards to this. Below, we see that
when the domain is cofibrant and the codomain is fibrant, homotopy theory looks exactly as it does classically.

\begin{propositiondef}\label{prop:model-category-left-right-homotopy-interchange}
	Let \(\calC\) be a model category, and let \(f,g\!:x\to y\) be morphisms in \(\calC\).
	\begin{enumerate}[label=(\arabic*)]
		\item Suppose \(x\) is cofibrant. If there is a left homotopy from \(f\) to \(g\), then there is a right homotopy from \(f\) to \(g\).
		\item Suppose \(y\) is fibrant. If there is a right homotopy from \(f\) to \(g\), then there is a left homotopy from \(f\) to \(g\).
	\end{enumerate}
	In particular, if \(x\in\calC_c\) and \(y\in\calC_f\), then the equivalence relations \(\simh_\ell\) and \(\simh_r\) on \(\calC(x,y)\)
	agree, and give an equivalence relation \(f\simeq g\). Furthermore, for the equivalence relation \(\simeq\), one may use a fixed good cylinder
	object for \(x\) and a fixed good path object for \(y\).
\end{propositiondef}
\begin{proof}
Statements (1) and (2) are dual, so it suffices to prove (1). In the process, we will see that we can translate an arbitrary (good) left homotopy from \(f\) to \(g\)
to a good right homotopy from \(f\) to \(g\) with a fixed path object for \(y\). So, assume we have a left homotopy \(h\!:Ix\to y\) from \(f\) to \(g\), where by Proposition \ref{prop:model-category-good-homotopies-are-enough}
we may assume that \(Ix\) is good. Fix a good path object \(y^I\) for \(y\), and note that \(i_0\!:x\to Ix\) is a trivial cofibration and \((p_0,p_1)\!:y^I \to y\times y\)
is a fibration, we have  a solution to the lifting problem
\[
	\begin{tikzcd}
		x\ar[r,"f"]\ar[d,"i_0"'] & y \ar[r,"i"] & y^I\ar[d,"{(p_0,p_1)}"] \\
		Ix\ar[r,"{(p,\id_{Ix})}"']\ar[urr,dashed,"k"] & x\times Ix \ar[r,"{f\times h}"'] & y\times y
	\end{tikzcd}
\]
where we now observe that
\[ h'\!: x \overset{i_1}\to Ix \overset{k}\to y^I \]
is a right homotopy from \(f\) to \(g\). Indeed
\[ p_0\circ h' = p_0\circ k\circ i_1 = f\circ p\circ i_1 = p_0\circ f\quad\text{and}\quad p_1\circ h' = h\circ i_1 = g \]
as desired. The rest of the proposition follows.
\end{proof}

\begin{notation}
	Let \(\calC\) be a model category. For \(x\) cofibrant and \(y\) fibrant, we write
	\[ [x,y] = \calC(x,y)/\simeq \]
	for the set of morphisms up to homotopy.
\end{notation}

\subsection{The homotopy categories associated to a model category}

The major typically advertised feature of model categories is that they allow you good control over localization. A model category \((\calC,\Cof,W,\Fib)\) in particular is also
a relative category \((\calC,W)\), and so we may reasonably form \(\calC[W^{-1}]\). Typically, while one has \emph{a} description of this category, one has no way to know
that it is, for example, locally small, and this presents some subtle issues in working with localizations. The major input in a model category is that for nice enough objects,
namely those that are both fibrant and cofibrant, the notion of weak equivalence in fact identifies with the notion of \emph{homotopy equivalence,} and this paves the way for
a homotopy-theoretic description of \(\calC[W^{-1}]\). We aim to prove this characterization now, as well as explain some homotopy-theoretic categories one can associate to \(\calC\).

We will start with a basic proposition explaining how homotopies interact with composition. To prove it, we need the following enhancement of Proposition \ref{prop:model-category-good-homotopies-are-enough}
as a lemma.

\begin{lemma}\label{lemma:model-category-fibrant-codomain-very-good-left-homotopy-suffices}
	Let \(\calC\) be a model category, let \(x,y\in\calC\), and assume \(y\) is fibrant. Consider maps \(f,g\!:x\to y\). Then there is a good left homotopy from \(f\) to \(g\) if and only if there is a very good left
	homotopy from \(f\) to \(g\).
\end{lemma}
\begin{proof}
Of course, if there is a very good left homotopy, then there is a good left homotopy, so what remains is the converse. Thus, suppose we have a good left homotopy \(h\!:Ix\to y\)
from \(f\) to \(g\). The cylinder comes equipped with a weak equivalence \(p\!:Ix\to x\), which we may (by the 2-out-of-3 property of weak equivalences) factor into a
trivial cofibration followed by a trivial fibration
\[ (Ix\underset{p}\iso x) = (Ix \underset{q}{\overset{\sim}\tailto} I'x \underset{p'}{\overset{\sim}\sur} x) \]
and the crux of the first part of the argument is that \(I'x\) can be turned into a very good cylinder object for \(x\). In particular, we use the maps
\[ i'_k \!: x \overset{i_k}\tailto Ix\overset{q}\tailto I'x,\quad p'\!:I'x \to x \]
and one easily sees that this makes \(I'x\) into a very good cylinder object.

We have not yet used that \(y\) is fibrant, which only becomes essential in now moving the homotopy \(h\!:Ix\to y\) to a homotopy \(h'\!:I'x\to y\). For this,
we apply the covering homotopy property to the trivial cofibration \(Ix\overset\sim\tailto I'x\) and the fibration \(y\sur *\), i.e.\ we solve the lifting problem
\[
	\begin{tikzcd}
		Ix\ar[d,tail,"\sim" labl] \ar[r,"h"] & y\ar[d,two heads] \\
		I'x\ar[r]\ar[ur,dashed,"h'"] & *
	\end{tikzcd}
\]
which yields \(h'\).
\end{proof}
\begin{proposition}\label{prop:model-category-fibrant-codomain-precomposition}
	Let \(\calC\) be a model category, let \(x,y\in\calC\), and suppose \(y\) is fibrant. Consider maps \(f,g\!:x\to y\) and \(e\!:w\to x\). If there is a left homotopy from \(f\) to \(g\), then
	there is a left homotopy from \(f\circ e\) to \(g\circ e\).
\end{proposition}
\begin{proof}
The idea is this: one would like to use the strategy one sees in classical homotopy theory, namely that if we have a homotopy \(H\!:[0,1]\times X\to Y\) between some \(f\) and \(g\),
and we have \(e\!:W\to X\), then we get a homotopy from \(f\circ e\) to \(g\circ e\) by composing with the obvious map \([0,1]\times W\to [0,1]\times X\) induced by \(e\).

Since \(y\) is fibrant, by Lemma \ref{lemma:model-category-fibrant-codomain-very-good-left-homotopy-suffices} we may assume that the left homotopy \(h\!:Ix\to y\) from \(f\) to \(g\) is very good.
Let \(Iw\) be some good cylinder object for \(w\). Since \(w\amalg w \to Iw\) is a cofibration and \(Ix\to x\) is a trivial fibration, we may solve the lifting problem
\[
	\begin{tikzcd}
		w\amalg w\ar[d] \ar[r,"e\amalg e"] & x \amalg x \ar[r] & Ix \ar[d] \\
		Iw\ar[r]\ar[urr,dashed,"k"] & w\ar[r,"e"] & x
	\end{tikzcd}
\]
and now our desired homotopy is \(h\circ k\).
\end{proof}

The above proposition, along with its dual, allow us to now specify the titular homotopy categories associated to the model category \(\calC\).

\begin{propositiondef}\label{prop:propdef-model-category-homotopy-composition}
	Let \(\calC\) be a model category. Then the following statements hold.
	\begin{enumerate}[label=(\arabic*)]
		\item If \(y\) is fibrant, then composition in \(\calC\) induces a composition
			\[ [x,y]_\ell \times [w,x]_\ell \to [w,y]_\ell. \]
		\item If \(w\) is cofibrant, then composition in \(\calC\) induces a composition
			\[ [x,y]_r \times [w,x]_r \to [w,y]_r. \]
	\end{enumerate}
	In particular, there are categories \(\hh{\calC_f}\), \(\hh{\calC_c}\), and \(\hh{\calC_{cf}}\), the objects of which are the objects of \(\calC_f\), \(\calC_c\), and \(\calC_{cf}\) respectively,
	and for which the morphisms are given by
	\[ \hh{\calC_f}(x,y) := [x,y]_\ell,\quad \hh{\calC_c}(x,y) := [x,y]_r,\quad \hh{\calC_{cf}}(x,y) := [x,y]. \]
\end{propositiondef}
\begin{proof}
Statements (1) and (2) are dual to each other, so we prove (1). What we have to show is that if we have morphisms \(f,f'\!:x\to y\) and \(e,e'\!:w\to x\), along
with left homotopies from \(f\) to \(f'\) and \(e\) to \(e'\), then we have left homotopies from \(f\circ e\) to \(f'\circ e\) and \(f\circ e\) to \(f\circ e'\).
The former is just Proposition \ref{prop:model-category-fibrant-codomain-precomposition}, since all objects are assumed to be fibrant. For the latter,
let \(h\!:Iw\to x\) be a left homotopy from \(e\) to \(e'\). Then \(f\circ h\) is a homotopy from \(f\circ e\) to \(f\circ e'\).
\end{proof}

\begin{terminology}
	Let \(\calC\) be a model category. Objects of \(\calC_{cf}\) are called \emph{bifibrant.} Given bifibrant objects \(x,y\in\calC_{cf}\), a morphism \(f\!:x\to y\) is a \emph{homotopy equivalence}
	if it has an inverse up to homotopy, i.e.\ if its image in \(\hh{\calC_{cf}}\) is an isomorphism.
\end{terminology}

At the opening of this subsection, we promised a homotopy-theoretic characterization of some weak equivalences in a model category. We may finally arrive at this.
Before we get to it, we will need the following result.
\begin{theorem}\label{thm:model-category-dual-whitehead}
	Let \(\calC\) be a model category, and let \(x,y\in\calC\). Then the following statements hold.
	\begin{enumerate}[label=(\arabic*)]
		\item Suppose \(x\) is cofibrant and we have a trivial fibration \(p\!:z\to y\). Then
		\[ p_*\!:[x,z]_\ell \to [x,y]_\ell\]
		is a bijection.
		\item Suppose \(y\) is fibrant and \(i\!:w\to x\) is a trivial cofibration. Then
		\[ i^*\!:[x,y]_r \to [w,y]_r \]
		is a bijection.
	\end{enumerate}
\end{theorem}
\begin{proof}
Statements (1) and (2) are dual, so we prove (1). Note that the map \(p_*\) is well-defined, following the second half of the proof of Proposition \ref{prop:propdef-model-category-homotopy-composition}.
We have two properties to check, namely surjectivity and injectivity. Thus, suppose we have a morphism \(k\!:x\to y\), and morphisms \(f,g\!:x\to z\) for which there
is a good left homotopy \(h\) from \(p\circ f\) to \(p\circ g\). For surjectivity, observe that we can find a preimage of \(k\) by means of the below left lifting problem,
\[
	\begin{tikzcd}
		\varnothing\ar[d,tail]\ar[r] & z\ar[d,two heads,"p"',"\sim" labl] \\
		x\ar[r,"k"']\ar[ur,dashed] & y
	\end{tikzcd}\quad\quad
	\begin{tikzcd}
		x\amalg x\ar[d,tail]\ar[r,"{(f,g)}"] & z\ar[d,"p"',two heads,"\sim" labl] \\
		Ix\ar[r,"h"']\ar[ur,dashed] & y
	\end{tikzcd}
\]
and for injectivity, we obtain a left homotopy from \(f\) to \(g\) by means of the above right lifting problem.
\end{proof}

The strategy for proving our homotopical characterization is similar to what we saw when showing that weak equivalences are closed under retracts:
we prove something first in the case of a (co)fibration, then lift.
\begin{lemma}\label{lemma:model-category-cofibration-between-fibrant-objects-trivial-implies-homotopy-equivalence}
	Let \(\calC\) be a model category, and let \(i\!:x\to z\) be a cofibration between bifibrant objects. If \(i\) is a trivial cofibration, then it is a homotopy equivalence.
\end{lemma}
\begin{proof}
By Theorem \ref{thm:model-category-dual-whitehead}, we have bijections
\[ i^*\!:[z,x] \iso [x,x],\quad i^*\!:[z,z] \iso [x,z] \]
and may thus find, using the former bijection, \(j\!:z\to x\) such that \(j\circ i \simeq \id_x\). We also have
\[ (i\circ j)\circ i = i \circ (j\circ i)\simeq i \]
and therefore the other bijection implies \(i\circ j \simeq \id_z\), so \(i\) is a homotopy equivalence with homotopy inverse \(j\).
\end{proof}

\begin{theorem}
	Let \(\calC\) be a model category, let \(x,y\in\calC_{cf}\) be bifibrant objects, and let \(f\!:x\to y\) be a morphism. Then the following are equivalent.
	\begin{enumerate}[label=(\arabic*)]
		\item \(f\) is a homotopy equivalence.
		\item \(f\) is a weak equivalence.
	\end{enumerate}
\end{theorem}
\begin{proof}
To start off, we do the following: factor \(f = p\circ i\) as a trivial cofibration \(i\!:x\to z\) followed by a fibration \(p\!:z\to y\).
Note that \(z\) is bifibrant, as \((\varnothing \to z) = \varnothing \to x \to z\) and \((z\to *) = (z\to y \to *)\). By Lemma \ref{lemma:model-category-cofibration-between-fibrant-objects-trivial-implies-homotopy-equivalence},
\(i\) is a homotopy equivalence, so it has a homotopy inverse \(j\!:z\to x\).

(1) \(\Rightarrow\) (2). Let \(f\) have a homotopy inverse \(g\), i.e.\ \(g\circ f \simeq \id_x\) and \(f\circ g\simeq\id_y\). It suffices
to show that \(p\) is a weak equivalence, as \(i\) is a trivial cofibration. Let \(h\!:Iy\to y\) be a good left homotopy from \(f\circ g\) to \(\id_y\).
Then we solve the lifting problem
\[
	\begin{tikzcd}
		y\ar[d,tail,"i_0"',"\sim" labl]\ar[r,"i\circ g"] & z\ar[d,two heads,"p"] \\
		Iy\ar[r,"h"]\ar[ur,dashed,"h'"] & y
	\end{tikzcd}
\]
which provides a good left homotopy \(h'\) from \(i\circ g\) to \(q := h'\circ i_1\). Now
\[ p\circ q = p\circ h'\circ i_1 = h\circ i_1 = \id_y \]
and
\[ q\circ p \simeq (i\circ g)\circ p\simeq i\circ g \circ p\circ (i \circ j) = i\circ g \circ f \circ j \simeq i\simeq j \simeq \id_z. \]
By Lemma \ref{lemma:homotopic-to-weak-equivalence-is-weak-equivalence}, \(q\circ p\) is a weak equivalence. Furthermore, we have a retraction
\[
	\begin{tikzcd}
		z\ar[d,"p"']\ar[r,equal] & z\ar[r,equal]\ar[d,"qp"] & z\ar[d,"p"] \\
		y \ar[r,"q"] & z\ar[r,"p"] & y
	\end{tikzcd}
\]
which means \(p\) is a retract of a weak equivalence, hence a weak equivalence.

(2) \(\Rightarrow\) (1). If \(f\) is a weak equivalence, then by the 2-out-of-3 property \(p\) is a weak equivalence, hence a trivial fibration. Thus,
the dual of Lemma \ref{lemma:model-category-cofibration-between-fibrant-objects-trivial-implies-homotopy-equivalence} shows that \(p\) is a homotopy equivalence,
so \(f = p\circ i\) is a homotopy equivalence.
\end{proof}

\subsection{Appendix: HEP and CHP in model categories}
In model categories, there are analogues of the \emph{homotopy extension property} and \emph{covering homotopy property} from classical algebraic topology.
They are essentially tautologies arising as corollaries of the definition of good cylinder objects and good path objects.

\begin{lemma}[Homotopy extension property]
	Let \(\calC\) be a model category, \(\iota\!:a\to x\) a cofibration, and \(y\) a fibrant object. Let \(y^I\) be a good path object.
	Then the lifting problem
	\[
		\begin{tikzcd}
			a\ar[d,tail,"\iota"']\ar[r] & y^I\ar[d,"p_0"] \\
			x\ar[r]\ar[ur,dashed] & y
		\end{tikzcd}
	\]
	has a solution.
\end{lemma}
\begin{proof}
Since \(y^I\) is good, \(p_0\) is a trivial fibration, so we conclude by the factorization system \((\Cof,W\cap\Fib)\).
\end{proof}
Similarly, one proves
\begin{lemma}[Covering homotopy property]
	Let \(\calC\) be a model category, \(\pi\!:e\to b\) a fibration, and \(x\) a cofibrant object. Let \(Ix\) be a good cylinder object.
	Then the lifting problem
	\[
		\begin{tikzcd}
			x\ar[d,"i_0"']\ar[r] & e\ar[d,two heads,"\pi"] \\
			Ix\ar[r]\ar[ur,dashed] & b
		\end{tikzcd}
	\]
	has a solution.
\end{lemma}
\begin{remark}
	We note that the choice of using \(i_0\) and \(p_0\) is somewhat arbitrary, as the same argument applies to \(i_1\) and \(p_1\), or even
	\((i_0,i_1)\!:x\amalg x \to Ix\) and \((p_0,p_1)\!:y^I \to y\times y\). In this way, one can see that the definition of a good cylinder/path object
	is exactly such that the above properties hold.
\end{remark}
